<a
  {{ if strings.HasPrefix .Destination "./" }}
    {{ $slug := path.Join .Page.File.Dir .Destination }}

    {{ with .Page.Site.GetPage $slug }}
      href="{{ .Permalink | safeURL }}"
      title="{{ .Title }}"
    {{ else }}
      {{ warnf "Invalid link reference '%s' in content/%s" .Destination .Page.File }}
      href="{{ .Destination | safeURL }}"
    {{ end }}
  {{ else }}
    href="{{ .Destination | safeURL }}"

    {{ if strings.HasPrefix .Destination "http" }}
      target="_blank"
      rel="noopener noreferrer"
    {{ end }}

    {{ with .Title}} title="{{ . }}"{{ end }}
  {{ end }}
>{{ markdownify .Text }}</a>
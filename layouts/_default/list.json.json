{{ define "data" }}
  {
    "pages": [
      {{ range $i, $val := .Paginator.Pages }}
        {{ if ne $i 0 }},{{ end }}
        {{ if gt (len .Pages) 0 }}
          {
            "url": {{ jsonify .Permalink }},
            "title": {{ jsonify .Title }},
            "pages": {{ len .Pages }}
          }
        {{ else }}
          {
            "url": {{ jsonify .Permalink }},
            "title": {{ jsonify .Title }},
            "author": {{ jsonify .Params.author }},
            "publishdate": {{ jsonify .PublishDate }},
            "date": {{ jsonify .Date }},
            "description": {{ jsonify .Description }},
            "tags": {{ jsonify .Params.tags }}
          }
        {{ end }}
      {{ end }}
    ],
    "paginationPrefix": "{{ .Permalink }}page/",
    "fist": "{{ with .Paginator.First }}{{ .PageNumber }}{{ end }}",
    "prev": "{{ with .Paginator.Prev }}{{ .PageNumber }}{{ end }}",
    "next": "{{ with .Paginator.Next }}{{ .PageNumber }}{{ end }}",
    "last": "{{ with .Paginator.Last }}{{ .PageNumber }}{{ end }}"
  }
{{ end }}


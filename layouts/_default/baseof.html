<!doctype html>
<html lang="{{ .Site.Language | default "en" }}">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, viewport-fit=cover"/>

  {{ if not .Site.IsServer }}
  {{ with .Site.Params.googleTagManager }}
    <!-- Google Tag Manager -->
    <script>
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','{{ . }}');
    </script>
    <!-- End Google Tag Manager -->
  {{ end }}
  {{ end }}

  {{ block "metadata" . }}{{ partial "metadata.html" . }}{{ end }}

  <!-- App and icons -->

  <meta name="theme-color" content="#fff"/>

    <!-- Chrome on Android (192x192) -->
  <meta name="mobile-web-app-capable" content="yes"/>

  <link rel="icon" sizes="192x192"
        href="{{ relURL "favicon-192x192.png" }}"/>

    <!-- Windows (144x144) -->
  <meta name="msapplication-TileImage"
        content="{{ relURL "favicon-144x144.png" }}"/>

  <meta name="msapplication-TileColor" content="#fff"/>

    <!-- Safari on iOS (120x120) -->
  <meta name="apple-mobile-web-app-capable" content="yes"/>
  <meta name="apple-mobile-web-app-title" content="{{ .Site.Params.name }}"/>

  <meta name="apple-mobile-web-app-status-bar-style"
        content="black-translucent"/>

  <link rel="apple-touch-icon" href="{{ relURL "favicon-192x192.png" }}"/>

  <link rel="apple-touch-icon" sizes="76x76"
        href="{{ relURL "favicon-76x76.png" }}"/>

  <link rel="apple-touch-icon" sizes="120x120"
        href="{{ relURL "favicon-120x120.png" }}"/>

  <link rel="apple-touch-icon" sizes="152x152"
        href="{{ relURL "favicon-152x152.png" }}"/>

  <link rel="apple-touch-icon-precomposed"
        href="{{ relURL "favicon-120x120.png" }}"/>

  <link rel="apple-touch-startup-image"
        href="{{ relURL "favicon-192x192.png" }}"/>

    <!-- Default (32x32) -->
  <link rel="shortcut icon" href="{{ relURL "favicon.ico" }}"/>

  <!-- /App and icons -->

  <title>
    {{ if not .IsHome }}{{ .Title }} {{ .Site.Params.titleSeparator }}{{ end }}
    {{ .Site.Params.title }}
  </title>

  {{ range .AlternativeOutputFormats }}
    <link rel="{{ .Rel }}" type="{{ .MediaType.Type }}"
          href="{{ .Permalink | safeURL }}"/>
  {{ end }}

  {{ block "styles" . }}{{ partial "styles.html" . }}{{ end }}
  {{ hugo.Generator }}
</head>
<body data-code-theme="monokailight">
{{ if not .Site.IsServer }}
{{ with .Site.Params.googleTagManager }}
  <!-- Google Tag Manager (noscript) -->
  <noscript>
    <iframe src="https://www.googletagmanager.com/ns.html?id={{ . }}"
      height="0" width="0" style="display:none;visibility:hidden"></iframe>
  </noscript>
  <!-- End Google Tag Manager (noscript) -->
{{ end }}
{{ end }}

<div id="body">
  <div id="settings"></div>

  <header role="banner">
    <nav>
      <strong>
        <a href="{{ .Site.Home.Permalink }}">{{ .Site.Params.name }}</a>
      </strong>

      {{ if gt (len .Site.Sections) 0 }}
        {{ range sort .Site.Sections }}
          {{ if ne .Params.hidden true }}
            {{ $l := len .Pages }}
            | <a href="{{ .Permalink }}">{{ .Title }}</a><sup>({{ $l }})</sup>
          {{ end }}
        {{ end }}
      {{ end }}

      | <a href="#">{{ i18n "SETTINGS" }}</a>
    </nav>

    <div>
      {{ if .IsTranslated }}
        {{ range .Translations }}
          [<a href="{{ .Permalink }}">{{ .Language.LanguageName }}</a>]
        {{ end }}
      {{ end }}
    </div>
  </header>

  <main>
    {{ block "main" . }}{{ end }}

    {{ if and (eq .Params.comments true) (not .Site.IsServer) }}
      {{ $page := . }}

      {{ with .Site.Params.disqus }}
        <br/>
        <div id="disqus_thread"></div>

        <script>
          var disqus_config = function () {
            this.page.url = '{{ absURL $page.Permalink }}';
            this.page.identifier = '{{ $page.Permalink }}';
          };

          (function() {
            var d = document, s = d.createElement('script');
            s.src = 'https://{{ . }}.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
          })();
        </script>

        <noscript>
          Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      {{ end }}
    {{ end }}
  </main>

  <footer>
    <p>
      Powered by
      <a href="https://magefile.org/">Mage</a>,
      <a href="https://gohugo.io">Hugo</a>,
      <a href="https://fontawesome.com">FontAwesome</a>
      and

      <a href="{{ absLangURL "/projects/ntweb" }}">
        some other tools
      </a>
    </p>

    <p>
      <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
        Creative Commons Attribution 4.0 International license (CC BY 4.0)

        <!--
        <img alt="Creative Commons License" style="border-width:0"
             src="https://i.creativecommons.org/l/by/4.0/80x15.png"/>
        -->
      </a>
    </p>

    <p class="copyright">
      {{ $authorURL := printf "/authors/%s" .Site.Params.defaultAuthor }}
      {{ $author := (.Site.GetPage $authorURL).Params }}
      Copyright &copy; 2018 {{ $author.name }}
    </p>
  </footer>
</div>

{{ block "scripts" . }}{{ partial "scripts.html" . }}{{ end }}
</body>
</html>


1. Instalar los paquetes:
	apache2
	nginx
	varnish

2. Configurar Varnish:
	2.1. Abrir el archivo de configuración del Daemon de Varnish:
		nano /etc/default/varnish

	2.2. En la seccion "Alternative 2" cambiar el puerto por:
		DAEMON_OPTS="-a :80 \
			-T localhost:6082 \
			-f /etc/varnish/default.vcl \
			-S /etc/varnish/secret \
			-s malloc,256m"

	2.3. Verificar los puertos especificados en el archivo de configuración de lenguajes de Varnish:
		nano /etc/varnish/default.vcl

		backend default
		{
			.host = "127.0.0.1";
			.port = "8080";
		}

2. Configurar Nginx:
	2.1. Ejecutar un editor de texto:
		nano

	2.2. Copiar la siguiente configuración dentro del editor:

		server
		{
			listen   8080;

			root /var/www/; 
			index index.php index.html index.htm;

			server_name localhost; 

			location / 
			{
				try_files $uri $uri/ /index.php;
			}

			location ~ \.php$ 
			{
				proxy_set_header X-Real-IP  $remote_addr;
				proxy_set_header X-Forwarded-For $remote_addr;
				proxy_set_header Host $host;
				proxy_pass http://127.0.0.1:8081;
			}

			location ~ /\.ht 
			{
				deny all;
			}
		}

	2.3. Guardar sobre el archivo del VirtualHost de Nginx:
		/etc/nginx/sites-available/default

3. Configurar Apache:
	3.1. Abrir el archivo de configuración de puertos de Apache:
		nano /etc/apache2/ports.conf

	3.2. Cambiar los puertos por:
		NameVirtualHost *:8081
		Listen 8081

	3.3. Abrir el archivo del VirtualHost de Apache:
		nano /etc/apache2/sites-available/default

	3.4. Verificar que tenga la siguiente configuración:
		<VirtualHost *:8081>
			ServerAdmin webmaster@localhost

			DocumentRoot /var/www

4. Asegurarse que el VirtualHost esta activo:
	a2ensite default

	Nota: Mostrará el mensaje "Site default already enabled" si ya esta activo.

5. Reiniciar los servicios en el siguiente orden:
	service apache2 restart
	service nginx restart
	service varnish restart